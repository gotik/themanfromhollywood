@import 'nib'

*
	margin 0px
	padding 0px

hr
	display none

body
	background-color #180007
	color #eee
	font-family helvetica, arial, 'liberation sans', sans-serif
	font-size medium

@font-face
	font-family 'KomikaHandRegular'
	src local('Komika Hand Regular'), local('KomikaHand'), url('../fonts/Komika_Hand.ttf') format('truetype')

.background-player
	opacity 0.1
	transition opacity 0.3s linear

header
	width 1080px
	display block
	margin 0 auto
	padding 30px 0 60px 0
	transition opacity 0.3s linear

h1
	position relative
	font-size 280%
	text-shadow #080002 2px 2px 2px

	& span
		position absolute
		display block
		width 100%
		height 100%
		opacity 0.7
		background: linear-gradient(top, rgba(16, 1, 5, 0), rgba(16, 1, 5, 0.2) 40%, #100105)
h2
	font-size 95%
	color #FCABBA
	line-height 1.8em
	text-shadow #080002 2px 2px 1px
	padding 2px 0 14px 6px

header 
	& p:nth-of-type(1)
		width 50%
		display inline-block
		font-size 75%
		color #BDB0B3
		padding-left 6px

	& p:nth-of-type(2)
		color #FCABBA
		width 38%
		font-size 90%
		float right
		text-align right
		position relative
		font-weight bold

header, footer
	& a
		border-radius 1px
		padding 0 3px
		background-color transparent
		color #BDB0B3
		font-size 80%
		text-decoration underline
		transition background-color 0.4s ease-out, color 0.4s ease-out

		&:hover
			background-color #BDB0B3
			color #250911
			text-decoration none
			transition background-color 0.2s ease-out, color 0.2s ease-out

#stage
	position relative
	display block
	width 1080px
	height 608px
	overflow hidden
	margin 0 auto
	box-shadow 0px 0px 15px #000;
	background linear-gradient(top, rgba(130, 18, 40, 1), rgba(53, 0, 10, 1))

	&.norman
		background linear-gradient(top, #775924, #312106)

	&.everyone
		background linear-gradient(top, #6955bb, #201a38)

	& #play
		position absolute
		display block
		z-index 101
		width 1080px
		height 608px
		cursor pointer
		background-color rgba(0, 0, 0, 0.85)
		transition background-color 0.3s ease-out, opacity 0.3s linear
		
		&.hide
			display none
		
		&.offstage-player
			opacity 0

		&.midstage-player
			opacity 0.5

		& span
			background linear-gradient(top, rgba(44, 44, 44, 0.8), rgba(0, 0, 0, 0.8))
			border-radius 125px
			border 4px solid #bababa
			cursor pointer
			display block
			height 134px
			margin 0 auto
			opacity 0.6
			position relative
			text-indent -300em
			top 35%
			transform scale(0.8)
			transition opacity 0.3s ease-out, -webkit-transform 0.15s ease-out
			width 134px
		
			& i
				position relative
				top 38px
				left 18px
				display block
				width 0px
				height 0px
				border-color transparent transparent #f2f2f2 transparent
				border-style solid
				border-width 0px 58px 58px 58px
				transform scaleY(0.6) rotate(90deg)

		&:hover 
			background-color: rgba(0, 0, 0, 0.75)
		
		&:hover span, span:hover
			opacity 0.80
			transform scale(1)

	& #vignette
		// not implemented yet at nib? :S
		// maybe I'm doing it wrong
		background -webkit-gradient(radial, 540 304, 330, 540 304, 750,from(rgba(0, 0, 0, 0)), to(rgba(0, 0, 0, 1)), color-stop(85%, #000))
		background -webkit-radial-gradient(center, circle cover, rgba(0, 0, 0, 0) 65%, rgba(0, 0, 0, 0.6) 100%)
		background -moz-radial-gradient(center, circle cover, rgba(0, 0, 0, 0) 65%, rgba(0, 0, 0, 0.6) 100%)
		background radial-gradient(center, circle cover, rgba(0, 0, 0, 0) 65%, rgba(0, 0, 0, 0.6) 100%)
		position absolute
		display block
		z-index 100
		width 1080px
		height 608px

footer
	display block
	width 1080px
	padding 70px 0
	margin 0 auto
	text-align center
	transition opacity 0.3s linear

	& a
		font-size 80%

// scenes

#stage 
	& dt 
		display none
	& dl
		width 100%
		height 100%
		overflow hidden
		position relative
		font-size 230%
		font-weight bold
		text-shadow rgba(0, 0, 0, 0.6) 2px 2px 3px
	& dd
		position absolute
		white-space nowrap
		display none

	// scene 1

	& #scene-1
		display block
		font-size 380%
		top 200px
		left 32%
		opacity 0
		transform scale(0)
		// Revisar
		transition opacity 0.1s ease, transform 0.1s ease-out

		&.action
			opacity 1
			transform scale(1)

		&.cut
			opacity 0.4
			transform scale(0)

	// scene 2

	& #scene-2
		display block
		// Revisar
		transition top 0.1s linear, left 0.1s linear, transform 0.1s linear

		&.exit-left
			left -300px

		&.exit
			display none

		& p
			display none
			position absolute

		&.closeup-1
			top -110px
			left 570px
			transform rotate(90deg)

		// scene 2 - act 1

		& .act-1
			display block
			top 200px
			left 1080px
			font-size 380%
			overflow hidden
			width 260px
			transition left 0.1s linear

			&.position-1
				left 800px
				transition left 0.1s linear

				&.position-2
					left 540px
					width 800px
					transition left 0.2s ease-in

					&.exit
						left -800px

		// scene 2 -act 2

		& .act-2
			opacity 0
			font-size 1400%
			display block
			top 150px
			left 960px
			// Revisar
			transition left 2s linear, 
								top 0.4s ease-in, 
								opacity 0.2s linear, 
								transform 0.2s ease-in
	
			&.position-1
				opacity 1
				left -14030px
		
			&.hide
				opacity 0
		
			&.exit
				top 700px
				left -12000px
				transform rotate(-2deg)
				opacity 0

		& .act-3
			display block
			top 70px
			left 443px
			font-size 190%
			letter-spacing 1px
			overflow hidden
			padding-top 132px
			opacity 1
			transform rotate(-90deg)
			transition opacity 0.2s linear
		
			&.hide
				opacity 0
		
			& strong
				position relative
				left -290px
				transition left 0.1s linear
		
			& span
				position relative
				display block
				top -143px
				left 295px
				margin-bottom -148px
				letter-spacing -2px
				font-size 105%
				transition left 0.2s linear
		
			& em
				position relative
				display block
				top -148px
				font-style normal
				font-size 110%
				text-transform uppercase
				letter-spacing 0px
				color #fff
				opacity 0
				transition color 0.5s linear

				&.action
					opacity 1
					color #98d3f1

			& .action
				left 0

		
			&.exit
				left 900px
				transform rotate(-110deg)
				// Revisar
				transition left 0.2s ease-in, 
									transform 0.5s ease-in